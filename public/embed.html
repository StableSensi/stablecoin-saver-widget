<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stablecoin Savings Calculator Widget Demo</title>
    <style>
        .widget-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }
        pre {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div class="widget-container">
        <h1>Widget Demo Page</h1>
        
        <!-- Widget iframe -->
        <iframe
            src="/widget"
            width="100%"
            height="500px"
            frameborder="0"
            scrolling="no"
            allowfullscreen
            loading="lazy"
            allow="clipboard-write"
            style="border-radius: 12px; background: transparent; overflow: hidden; transition: height 0.3s ease;"
        ></iframe>
    </div>

    <!-- Auto-resize script for the demo iframe -->
    <script>
        window.addEventListener('message', function(event) {
            // Check if it's a resize message
            if (event.data && event.data.type === 'resize') {
                // Find our iframe
                const iframe = document.querySelector('.widget-container iframe');
                if (iframe) {
                    // Update the height (with min/max constraints)
                    const minHeight = 300;
                    const maxHeight = 1000;
                    const newHeight = Math.max(minHeight, Math.min(event.data.height, maxHeight));
                    iframe.style.height = newHeight + 'px';
                }
            }
        });
    </script>

    <!-- Widget embed code examples -->
    <div style="margin-top: 40px; padding: 20px; background: #f5f5f5;">
        <h2>Embed Options:</h2>
        
        <h3>Option 1: Direct iframe with auto-resize</h3>
        <pre>
&lt;iframe
    src="https://stablecoin-saver-widget.vercel.app/widget"
    width="100%"
    height="500px"
    frameborder="0"
    scrolling="no"
    allowfullscreen
    loading="lazy"
    allow="clipboard-write"
    style="border-radius: 12px; background: transparent; overflow: hidden; transition: height 0.3s ease;"
&gt;&lt;/iframe&gt;

&lt;script&gt;
    // Add this script to enable auto-resizing
    window.addEventListener('message', function(event) {
        // Only accept messages from the widget domain
        if (event.origin !== 'https://stablecoin-saver-widget.vercel.app') return;
        
        // Check if it's a resize message
        if (event.data && event.data.type === 'resize') {
            // Find our iframe
            const iframes = document.querySelectorAll('iframe');
            for (let i = 0; i < iframes.length; i++) {
                if (iframes[i].src.includes('stablecoin-saver-widget.vercel.app/widget')) {
                    // Update the height (with min/max constraints)
                    const minHeight = 300;
                    const maxHeight = 1000;
                    const newHeight = Math.max(minHeight, Math.min(event.data.height, maxHeight));
                    iframes[i].style.height = newHeight + 'px';
                }
            }
        }
    });
&lt;/script&gt;</pre>

        <h3>Option 2: JavaScript Loader (Recommended)</h3>
        <pre>
&lt;div id="stablecoin-calculator"&gt;&lt;/div&gt;
&lt;script src="https://stablecoin-saver-widget.vercel.app/widget-loader.js"&gt;&lt;/script&gt;
&lt;script&gt;
    StablecoinCalculator.init('stablecoin-calculator', {
        width: '100%',
        host: 'https://stablecoin-saver-widget.vercel.app',
        autoResize: true,
        minHeight: '300px',
        maxHeight: '1000px'
    });
&lt;/script&gt;</pre>
    </div>
</body>
</html>