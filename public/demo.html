<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stablecoin Calculator Demo</title>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .demo-section {
            margin: 40px 0;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        pre {
            background: #fff;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Stablecoin Savings Calculator Widget</h1>
    
    <!-- Widget Demo -->
    <div class="demo-section">
        <h2>Live Demo</h2>
        <iframe
            src="/widget"
            width="100%"
            height="500px"
            frameborder="0"
            scrolling="no"
            allowfullscreen
            loading="lazy"
            allow="clipboard-write"
            style="border-radius: 12px; background: transparent; overflow: hidden; transition: height 0.3s ease;"
        ></iframe>
    </div>

    <!-- Auto-resize script for the demo iframe -->
    <script>
        window.addEventListener('message', function(event) {
            // Check if it's a resize message
            if (event.data && event.data.type === 'resize') {
                // Find our iframe
                const iframe = document.querySelector('.demo-section iframe');
                if (iframe) {
                    // Update the height (with min/max constraints)
                    const minHeight = 300;
                    const maxHeight = 1000;
                    const newHeight = Math.max(minHeight, Math.min(event.data.height, maxHeight));
                    iframe.style.height = newHeight + 'px';
                }
            }
        });
    </script>

    <!-- Embed Instructions -->
    <div class="demo-section">
        <h2>How to Embed</h2>
        <p>Copy and paste this code into your website:</p>
        <pre><code>&lt;iframe
    src="https://stablecoin-saver-widget.vercel.app/widget"
    width="100%"
    height="500px"
    frameborder="0"
    scrolling="no"
    allowfullscreen
    loading="lazy"
    allow="clipboard-write"
    style="border-radius: 12px; background: transparent; overflow: hidden; transition: height 0.3s ease;"
&gt;&lt;/iframe&gt;

&lt;script&gt;
    // Add this script to enable auto-resizing
    window.addEventListener('message', function(event) {
        // Only accept messages from the widget domain
        if (event.origin !== 'https://stablecoin-saver-widget.vercel.app') return;
        
        // Check if it's a resize message
        if (event.data && event.data.type === 'resize') {
            // Find our iframe
            const iframes = document.querySelectorAll('iframe');
            for (let i = 0; i < iframes.length; i++) {
                if (iframes[i].src.includes('stablecoin-saver-widget.vercel.app/widget')) {
                    // Update the height (with min/max constraints)
                    const minHeight = 300;
                    const maxHeight = 1000;
                    const newHeight = Math.max(minHeight, Math.min(event.data.height, maxHeight));
                    iframes[i].style.height = newHeight + 'px';
                }
            }
        }
    });
&lt;/script&gt;</code></pre>
    </div>

    <!-- JavaScript Integration -->
    <div class="demo-section">
        <h2>JavaScript Integration</h2>
        <p>Alternatively, you can use our JavaScript loader (recommended for easiest integration):</p>
        <pre><code>&lt;div id="stablecoin-calculator"&gt;&lt;/div&gt;
&lt;script src="https://stablecoin-saver-widget.vercel.app/widget-loader.js"&gt;&lt;/script&gt;
&lt;script&gt;
    StablecoinCalculator.init('stablecoin-calculator', {
        width: '100%',
        host: 'https://stablecoin-saver-widget.vercel.app',
        autoResize: true,
        minHeight: '300px',
        maxHeight: '1000px'
    });
&lt;/script&gt;</code></pre>
    </div>
</body>
</html>